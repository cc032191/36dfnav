(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-785e40c9"],{"34d7":function(s,t,e){"use strict";e("c01dc")},"4f46":function(s,t,e){"use strict";e("5742")},5742:function(s,t,e){},7267:function(s,t,e){"use strict";e.r(t);var n=e("2f62"),i={name:"HsClock",data:()=>({hours:"00",minutes:"00",seconds:"00"}),mounted(){setInterval(this.clock,1e3)},methods:{clock(){let s=(new Date).getHours(),t=(new Date).getMinutes(),e=(new Date).getSeconds();this.$data.hours=s<10?"0"+s:s,this.$data.minutes=t<10?"0"+t:t,this.$data.seconds=e<10?"0"+e:e}}},o=(e("34d7"),e("2877")),a={name:"HomeHead",components:{Clock:Object(o.a)(i,(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"hs-clock"},[e("div",{staticClass:"time"},[e("span",{ref:"hour",staticClass:"hour"},[s._v(s._s(s.hours))]),e("div",{staticClass:"text"},[s._v("时")]),e("span",{ref:"minute",staticClass:"minute"},[s._v(s._s(s.minutes))]),e("div",{staticClass:"text"},[s._v("分")]),e("span",{ref:"second",staticClass:"second"},[s._v(s._s(s.seconds))]),e("div",{staticClass:"text"},[s._v("秒")])])])}),[],!1,null,"77315c13",null).exports},props:{headBgConfig:{type:Object,default:()=>({clear:!1,white:!1,grossGlass:!0})}},data:()=>({showMenu:!1,selectedTake:"常用热门",takes:[],journals:[],currentJournal:{}}),computed:{...Object(n.e)(["user"]),showGrossGlass(){return!!(this.showMenu&&document.body.clientWidth<=1024)},signText(){return this.user.token?this.user.name:"注册登录"},links(){let s=this.$store.state.appConfig.site;return[{iconfontClass:"iconfont icon-md-home",text:s.guidePageName,url:s.guidePageUrl,isArticle:!1},{iconfontClass:"iconfont icon-md-stats",text:"更新日志",url:this.$store.state.appConfig.article.changelog,isArticle:!0},{iconfontClass:"iconfont icon-md-at",text:"关于我们",url:this.$store.state.appConfig.article.about,isArticle:!0}]}},mounted(){this.querySites(),this.queryJournals(),this.initMenu()},methods:{...Object(n.d)(["commitAll"]),querySites(){this.API.findSiteByCode({},{notify:!1}).then(s=>{this.commitAll({sites:s.data})})},queryJournals(){this.API.findJournal({},{notify:!1}).then(s=>{0!==s.data.length&&(this.journals=s.data||[],this.handleSelectJournal(this.journals[0]._id))})},handleSelectJournal(s){this.journals.find(t=>t._id===s)&&this.API.findJournalInformationById({_id:s},{notify:!1}).then(s=>{this.selectJournal(s.data)})},selectJournal(s){this.currentJournal=s,this.commitAll({categorySites:s.series})},handleNavbar(){this.commitAll({user:{config:{showNavbar:!this.user.config.showNavbar}}}),this.$store.dispatch("snapshoot")},sign(){this.user.token?this.commitAll({showWrapPerson:!0}):this.commitAll({showWrapSign:!0})},handleMenu(){this.showMenu=!this.showMenu},initMenu(){let s=this.LODASH.debounce(()=>{document.body.clientWidth>1024?this.showMenu=!0:this.showMenu=!1},100,{leading:!0,trailing:!0});window.addEventListener("resize",s),this.$once("hook:beforeDestory",()=>{window.removeEventListener("resize",s)}),this.$nextTick(()=>{let s=new Event("resize",{bubbles:!0,cancelable:!1});document.dispatchEvent(s)})},jump(s,t){let e=s.url;0===t?this.TOOL.openPage(e):this.TOOL.jumpToRead(this,e)}}},l=(e("4f46"),Object(o.a)(a,(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{directives:[{name:"discolor",rawName:"v-discolor"}],staticClass:"home-head",class:{clear:!s.showGrossGlass&&s.headBgConfig.clear,white:s.headBgConfig.white,"gross-glass":s.showGrossGlass||s.headBgConfig.grossGlass},attrs:{id:"js-home-head"}},[e("section",{staticClass:"fold",on:{click:s.handleNavbar}},[e("i",{staticClass:"iconfont icon-a-unfoldcross-line"})]),e("section",{staticClass:"menu",on:{click:s.handleMenu}},[e("i",{staticClass:"iconfont icon-md-menu"})]),s.showMenu?e("section",{staticClass:"collapse"},[e("ul",{staticClass:"links"},s._l(s.links,(function(t,n){return e("li",{key:n,on:{click:function(e){return s.jump(t,n)}}},[e("i",{staticClass:"icon",class:t.iconfontClass}),e("span",{staticClass:"text"},[s._v(s._s(t.text))])])})),0)]):s._e(),e("section",{staticClass:"today"},[e("div",{staticClass:"clock-group"},[e("Clock")],1)]),s.showMenu?e("section",{staticClass:"take"},[e("el-dropdown",{staticClass:"dropdown",attrs:{trigger:"click"},on:{command:s.handleSelectJournal}},[e("span",{staticClass:"el-dropdown-link pointer"},[s._v(" "+s._s(s.currentJournal.name||"无订阅源")+" "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s.journals.length?s._l(s.journals,(function(t){return e("el-dropdown-item",{key:t._id,attrs:{command:t._id}},[s._v(" "+s._s(t.name)+" ")])})):[e("el-dropdown-item",{attrs:{disabled:!0}},[s._v(" 空空如也 ")])]],2)],1)],1):s._e(),s.showMenu?e("section",{staticClass:"sign",on:{click:s.sign}},[s._v(" "+s._s(s.signText||"初级花酱")+" ")]):s._e()])}),[],!1,null,"f9f1db2c",null));t.default=l.exports},c01dc:function(s,t,e){}}]);